// jQuery Responsive Smart-Tabs Plugin
// A jQuery plugin to provide tab to accordion transition functionality in responsive sites.
// version 1.6 :: 09/18/2014
// by Matt Zimmermann

(function(d,m,n,p){d.fn.smartTabs=function(f,g,h){f=f||"768";g=g||m;h=h||"fixed";var k=[];this.each(function(){var a=d(this),b=a.find("dt").outerHeight(),e=0,c=location.hash;d(g).outerWidth()>f&&"fixed"==h?(a.find("dd").each(function(a){a=d(this);a.addClass("invisible");a.outerHeight()>e&&(e=a.outerHeight());a.removeClass("invisible")}),a.css("height",b+e+"px"),a.find("dd").css("height",e+"px")):d(g).outerWidth()>f&&"auto"==h&&a.find("dd").each(function(a){var b=d(this);b.addClass("invisible");k[a]= b.outerHeight();b.removeClass("invisible")});a.find("dd").hide();if(a.find('dt a[href="'+c+'"]').length)if(d(g).outerWidth()>f&&"auto"==h){var c=a.find('a[href="'+c+'"]').parent().addClass("current").next("dd"),l=c.index("dd");a.css("height",b+k[l]+"px");c.css("height",k[l]+"px").show()}else a.find('a[href="'+c+'"]').parent().addClass("current").next("dd").show();else d(g).outerWidth()>f&&"auto"==h?(c=a.find("dt:first").addClass("current").next("dd"),l=c.index("dd"),a.css("height",b+k[l]+"px"),c.css("height", k[l]+"px").show()):a.find("dt:first").addClass("current").next("dd").show()});this.on("click","dt a",function(a){var b=d(this),e=b.parent("dt").outerHeight();a.stopPropagation();a.preventDefault();a.stopImmediatePropagation();if(d(g).outerWidth()<=f)b.parent("dt").hasClass("current")?e=b.parent("dt").removeClass("current").next("dd").slideUp(300):(b.parents("dl").find(".current").removeClass("current").next("dd").slideUp(300),e=b.parent("dt").addClass("current").next("dd").slideDown(300),e.animate({scrollTop:-b.parent("dt").outerHeight()}, 800));else if(!b.parent("dt").hasClass("current"))if("auto"==h){b.parents("dl").find(".current").removeClass("current").next("dd").hide();a=b.parent("dt").addClass("current").next("dd");var c=a.index("dd");a.css("height",k[c]+"px").fadeIn();b.parents("dl").css("height",e+k[c]+"px")}else b.parents("dl").find(".current").removeClass("current").next("dd").hide(),b.parent("dt").addClass("current").next("dd").show()})}})(jQuery,window,document);
